---
layout: post
title: "Installing an OS on a Virtual Machine with vSphere"
date: 2014-01-30
categories: "Digital Humanities"
tags:
- "Digital Faust"
- Ubintu
- VMs
- VMware
---

# Installing an OS on a Virtual Machine with vSphere

I had a minor hiccup when setting up a Virtual Machine for the Digital Faust Project through Duke's VMware service: the virtual machine I requested did not come with the OS I requested installed. The instructions I received from Duke were minimal; because of Snowpocalypse 2014, the University was closed and thus my options for help were limited. So I had to figure it out how to do it on my own. Because most of the guides online I saw were geared to administrators, I thought I would post a guide on how to do this with very limited user access.

The first step was installing the VMware vSphere Client. When you set up an instance through Duke, they provide you with the link for downloading the client and the instructions for signing in. If you are like me, at home because of the snow, I had to use my Duke VPN to download the client and run most everything else. Another caveat is that the client they recommend can only be used on a Windows computer. This doesn't make a whole lot of sense, especially since hardly anyone ever uses Windows on campus anymore: I don't even think the building I am in has a Windows computer, and none of the OIT help desk people seem to use a PC. You can do this by running a virtual machine (eg, Oracle's VMBox) and using a Windows .iso image (downloadable through Duke), but that is a lot of hassle, and the vSphere Client didn't seem to like the Windows 8.1 install that I had. So, save yourself some hassle, and find a Windows 7 computer to do this work on. Once I installed the client and signed in (making sure to use winnetid as my user name), I was presented with this screen:

![vSphereClient][1] This could be confusing if you have never opened the client before. The option we want is Inventory/VMs and Templates, so click on that logo. If the setup of the VM has gone well, you will see your VM under the  Virtual Machines tab:   ![vSphereVMs][2]It will probably be powered off. Before we power on the VM, let's go into the options and make sure we will be able to upload an operating system. By right clicking the Virtual Machine, a menu will pop up: click on the Edit Settings option. In the Settings pane, go down to the CD/DVD drive setting, and see what it says: ![vSphereSettings][3] My settings are greyed out because the system is running. If you aren't an administrator, like me, you probably won't have settings you can adjust, but luckily this is something we can adjust. You want to make sure that under Device Type that the Client Device Radio button is checked. This will allow us to mount the OS .iso file when we start up the machine. If you haven't already, download the OS you want to install on the machine. I am using Ubuntu Server 12.04 LTS for my VM. There are newer versions of Ubuntu available, but this version is pretty stable and I use it for most of my web applications. The download is about 665MB, so it may take some time to download. Be sure to save the .iso file in a directory you can easily access. Now we should be ready to install our OS! Back on the Virtual Machines tab, we can right click on the VM and power on the instance. In a few seconds the machine should power on, and once that happens you can open the console, again by right clicking the instance: ![vSphereOpenConsole][4] When you open the console, keep in mind that the Virtual Machine will take control of your mouse: all you have to do is hit Ctrl-Alt to get it back. If your OS was installed correctly, you might go directly to the command line. But if you are like me, you may get an error saying that no Operating System is installed. To install the OS, first we need to mount the ISO. We need to click the button up top to "Connect/Disconnect the CD/DVD devicesof the virtual machine" which looks like this: ![vSphereConnectISO][5] Navigate through and click the option to mount an .iso file, which will send us to a file browser. Select your ISO and select it. You will probably notice that nothing happens. You have to go back into the virtual machine and reboot it (not restart the VM), so click on the terminal screen and hit F4. If all goes well, you should soon see a Ubuntu install screen, and you are ready to go! The Ubuntu install is straightforward, though you will spend a lot of time waiting for it to process (which is why there aren't screenshots of the process right now: I didn't have the time to go through this process again). One of the nice things is that as part of the setup, you can choose to install common software, like OpenSSL or a LAMP package, which will save you time later. When it's done, you will get a nice screen like this: ![vSphereConsole][6] Restart the system and you are good to go. If you installed OpenSSL, you can now access the site via your terminal or PuTTy client: ![PuTTyDigFaust][7] That's it! Your VM is ready to go, fire up that server.

[1]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereClient1.jpg
[2]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereVMs.jpg
[3]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereSettings1.jpg
[4]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereOpenConsole.jpg
[5]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereConnectISO.jpg
[6]: http://danielgriff.in/wp-content/uploads/2014/01/vSphereConsole.jpg
[7]: http://danielgriff.in/wp-content/uploads/2014/01/PuTTyDigFaust.jpg
